(function(e){function t(t){for(var n,o,s=t[0],l=t[1],c=t[2],f=0,d=[];f<s.length;f++)o=s[f],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&d.push(a[o][0]),a[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);u&&u(t);while(d.length)d.shift()();return i.push.apply(i,c||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,s=1;s<r.length;s++){var l=r[s];0!==a[l]&&(n=!1)}n&&(i.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},a={app:0},i=[];function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;i.push([1,"chunk-vendors"]),r()})({0:function(e,t){},"0a81":function(e,t,r){},"0a81b":function(e,t,r){"use strict";var n=r("df0c"),a=r.n(n);a.a},"0baa":function(e,t,r){},1:function(e,t,r){e.exports=r("56d7")},"1b49":function(e,t,r){},2:function(e,t){},"24f5":function(e,t,r){"use strict";var n=r("1b49"),a=r.n(n);a.a},3:function(e,t){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("FileInput"),r("KBK_Select"),r("ReportList")],1)},i=[],o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{attrs:{fluid:""}},[r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[r("v-card",{staticClass:"elevation-12",attrs:{outlined:""}},[r("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[r("v-toolbar-title",[e._v("Загрузка файла")])],1),r("v-card-text",{staticClass:"pb-0"},[r("v-file-input",{attrs:{"show-size":"",outlined:"",rules:e.rules,accept:".xls,.xlsx,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","prepend-icon":"mdi-file-excel",placeholder:"Выбор файла",label:"Excel-файл"},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}})],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{disabled:!e.file,depressed:"",color:"primary"},on:{click:e.submitFile}},[e._v("Загрузить ")])],1),r("v-dialog",{attrs:{persistent:"",width:"300"},model:{value:e.loadingDialog,callback:function(t){e.loadingDialog=t},expression:"loadingDialog"}},[r("v-card",{attrs:{color:"primary",dark:""}},[r("v-card-text",[e._v(" Загрузка данных "),r("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)],1)],1)],1)],1)},s=[],l=(r("a4d3"),r("4de4"),r("a15b"),r("ace4"),r("e439"),r("dbb4"),r("b64b"),r("d3b7"),r("5cc6"),r("9a8c"),r("a975"),r("735e"),r("c1ac"),r("d139"),r("3a7b"),r("d5d6"),r("82f8"),r("e91f"),r("60bd"),r("5f96"),r("3280"),r("3fcc"),r("ca91"),r("25a1"),r("cd26"),r("3c5d"),r("2954"),r("649e"),r("219c"),r("170b"),r("b39a9"),r("72f7"),r("159b"),r("96cf"),r("ade3")),c=r("1146"),u=r.n(c),f=r("2f62");function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var v={name:"App",data:function(){return{loadingDialog:!1,file:null,rules:[function(e){return!e||e.size<20971520||"Размер файла не должен превышать 20 мегабайт!"}]}},methods:p({},Object(f["b"])(["loadFile"]),{submitFile:function(){var e=this;this.loadingDialog=!0;var t=new FileReader,r=null;t.readAsArrayBuffer(this.file),t.onload=function(){var n,a,i;return regeneratorRuntime.async((function(o){while(1)switch(o.prev=o.next){case 0:for(n=new Uint8Array(t.result),a=[],i=0;i!==n.length;++i)a[i]=String.fromCharCode(n[i]);r=u.a.read(a.join(""),{type:"binary"}),e.loadFile(u.a.utils.sheet_to_json(r.Sheets[r.SheetNames[0]],{raw:!0})),e.loadingDialog=!1;case 6:case"end":return o.stop()}}))}}})},m=v,b=r("2877"),_=r("6544"),h=r.n(_),y=r("8336"),g=r("b0af"),x=r("99d9"),O=r("62ad"),w=r("a523"),j=r("169a"),S=r("23a7"),k=r("8e36"),P=r("0fd9"),V=r("2fa4"),F=r("71d9"),C=r("2a7f"),D=Object(b["a"])(m,o,s,!1,null,null,null),T=D.exports;h()(D,{VBtn:y["a"],VCard:g["a"],VCardActions:x["a"],VCardText:x["b"],VCol:O["a"],VContainer:w["a"],VDialog:j["a"],VFileInput:S["a"],VProgressLinear:k["a"],VRow:P["a"],VSpacer:V["a"],VToolbar:F["a"],VToolbarTitle:C["a"]});var $=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[e.isLoaded?r("v-card",[r("v-card-title",{staticClass:"text-center justify-center py-1"},[r("h1",{staticClass:"font-weight-bold display-1 basil--text"},[e._v("Приложения к закону о Бюджете")])]),r("v-tabs",{attrs:{"background-color":"transparent",color:"basil",grow:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},e._l(e.items,(function(t){return r("v-tab",{key:t},[e._v(" "+e._s(t)+" ")])})),1),r("v-tabs-items",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},e._l(e.items,(function(e){return r("v-tab-item",{key:e},[r("v-card",{attrs:{flat:""}},[r("v-card-text",[r("Table",{attrs:{type:e}})],1)],1)],1)})),1)],1):e._e()],1)},K=[],E=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("v-simple-table",{scopedSlots:e._u([{key:"top",fn:function(){return[r("h4",[e._v(e._s(e.report.table_name))])]},proxy:!0}])},[[r("thead",[r("tr",{staticClass:"header"},e._l(e.report.header,(function(t,n){return r("th",{key:n,staticClass:"white--text"},[e._v(e._s(t.text)+" ")])})),0)]),r("tbody",e._l(e.report.table,(function(t,n){return r("tr",{key:n},e._l(t,(function(t,n){return r("td",{key:n,class:t.class},[e._v(e._s(t.value))])})),0)})),0)]],2)],1)},z=[],L=(r("e01a"),r("d28b"),r("7db0"),r("caad"),r("d81d"),r("fb6a"),r("4e827"),r("b0c0"),r("b680"),r("25f0"),r("6062"),r("2532"),r("3ca3"),r("ddb0"),r("2909"));function A(e,t,r,n,a,i,o,s){var l=B(s),c=new Intl.NumberFormat("ru");return{number:e,name:t,code1:r,code2:n,code3:a,code4:i,code5:o,sum11:c.format(l.sum11),sum12:c.format(l.sum12),sum13:c.format(l.sum13)}}function B(e){return{sum11:e.reduce((function(e,t){return e+t.sum11}),0).toFixed(1),sum12:e.reduce((function(e,t){return e+t.sum12}),0).toFixed(1),sum13:e.reduce((function(e,t){return e+t.sum13}),0).toFixed(1)}}function R(e,t,r,n){t.length>0&&(e=e.filter((function(e){return t.includes(e.ved_code)}))),r.length>0&&(e=e.filter((function(e){return r.includes(e.podr_code)}))),n.length>0&&(e=e.filter((function(e){return n.includes(e.cs_code)})));var a=[],i=Object(L["a"])(new Set(e.map((function(e){return e.razdel_code})))).sort(),o=0,s=!0,l=!1,c=void 0;try{for(var u,f=function(){var t=u.value,r=e.filter((function(e){return e.razdel_code===t}));o++;var n=0;a.push(A(o.toString(),e.find((function(e){return e.razdel_code===t})).razdel_name,t.slice(0,2),"","","","",r));var i=Object(L["a"])(new Set(r.map((function(e){return e.podr_code})))).sort(),s=!0,l=!1,c=void 0;try{for(var f,d=function(){var e=f.value,t=r.filter((function(t){return t.podr_code===e}));n++,a.push(A(o.toString()+"."+n.toString(),r.find((function(t){return t.podr_code===e})).podr_name,e.slice(0,2),e.slice(-2),"","","",t))},p=i[Symbol.iterator]();!(s=(f=p.next()).done);s=!0)d()}catch(v){l=!0,c=v}finally{try{s||null==p.return||p.return()}finally{if(l)throw c}}},d=i[Symbol.iterator]();!(s=(u=d.next()).done);s=!0)f()}catch(m){l=!0,c=m}finally{try{s||null==d.return||d.return()}finally{if(l)throw c}}a.push(A("","Всего расходов","","","","","",e));for(var p=[],v=0;v<a.length;v++)p.push([{class:"text-center",value:a[v]["number"]},{class:"text-left",value:a[v]["name"]},{class:"text-center",value:a[v]["code1"]},{class:"text-center",value:a[v]["code2"]},{class:"text-right",value:a[v]["sum11"]},{class:"text-right",value:a[v]["sum12"]},{class:"text-right",value:a[v]["sum13"]}]);return{header:[{text:"N",value:"number"},{text:"Наименование",value:"name"},{text:"Раздел",value:"code1"},{text:"Подраздел",value:"code2"},{text:"Действующий бюджет",value:"sum11"},{text:"Поправка",value:"sum12"},{text:"Итог",value:"sum13"}],table:p,table_name:"Функциональная структура расходов"}}function I(e){var t=[],r=Object(L["a"])(new Set(e.map((function(e){return e.ved_code})))).sort(),n=0,a=!0,i=!1,o=void 0;try{for(var s,l=function(){var r=s.value,a=e.filter((function(e){return e.ved_code===r}));n++,t.push(A(n.toString(),e.find((function(e){return e.ved_code===r})).ved_name,r,"","","","",a));var i=Object(L["a"])(new Set(a.map((function(e){return e.razdel_code})))).sort(),o=!0,l=!1,c=void 0;try{for(var u,f=function(){var e=u.value,n=a.filter((function(t){return t.razdel_code===e}));t.push(A("",a.find((function(t){return t.razdel_code===e})).razdel_name,r,e.slice(0,2),"","","",n));var i=Object(L["a"])(new Set(n.map((function(e){return e.podr_code})))).sort(),o=!0,s=!1,l=void 0;try{for(var c,f=function(){var e=c.value,a=n.filter((function(t){return t.podr_code===e}));t.push(A("",n.find((function(t){return t.podr_code===e})).podr_name,r,e.slice(0,2),e.slice(-2),"","",a));var i=Object(L["a"])(new Set(a.map((function(e){return e.cs2_code})))).sort(),o=!0,s=!1,l=void 0;try{for(var u,f=function(){var n=u.value,i=a.filter((function(e){return e.cs2_code===n}));t.push(A("",a.find((function(e){return e.cs2_code===n})).cs2_name,r,e.slice(0,2),e.slice(-2),n,"",i));var o=Object(L["a"])(new Set(i.map((function(e){return e.cs_code})))).sort(),s=!0,l=!1,c=void 0;try{for(var f,d=function(){var n=f.value,a=i.filter((function(e){return e.cs_code===n}));t.push(A("",i.find((function(e){return e.cs_code===n})).cs_name,r,e.slice(0,2),e.slice(-2),n,"",a));var o=Object(L["a"])(new Set(a.map((function(e){return e.vr_code})))).sort(),s=!0,l=!1,c=void 0;try{for(var u,d=function(){var i=u.value,o=a.filter((function(e){return e.vr_code===i}));t.push(A("",a.find((function(e){return e.vr_code===i})).vr_name,r,e.slice(0,2),e.slice(-2),n,i,o))},p=o[Symbol.iterator]();!(s=(u=p.next()).done);s=!0)d()}catch(v){l=!0,c=v}finally{try{s||null==p.return||p.return()}finally{if(l)throw c}}},p=o[Symbol.iterator]();!(s=(f=p.next()).done);s=!0)d()}catch(v){l=!0,c=v}finally{try{s||null==p.return||p.return()}finally{if(l)throw c}}},d=i[Symbol.iterator]();!(o=(u=d.next()).done);o=!0)f()}catch(p){s=!0,l=p}finally{try{o||null==d.return||d.return()}finally{if(s)throw l}}},d=i[Symbol.iterator]();!(o=(c=d.next()).done);o=!0)f()}catch(p){s=!0,l=p}finally{try{o||null==d.return||d.return()}finally{if(s)throw l}}},d=i[Symbol.iterator]();!(o=(u=d.next()).done);o=!0)f()}catch(p){l=!0,c=p}finally{try{o||null==d.return||d.return()}finally{if(l)throw c}}},c=r[Symbol.iterator]();!(a=(s=c.next()).done);a=!0)l()}catch(d){i=!0,o=d}finally{try{a||null==c.return||c.return()}finally{if(i)throw o}}t.push(A("","Всего расходов","","","","","",e));for(var u=[],f=0;f<t.length;f++)u.push([{class:"text-center",value:t[f]["number"]},{class:"text-left",value:t[f]["name"]},{class:"text-center",value:t[f]["code1"]},{class:"text-center",value:t[f]["code2"]},{class:"text-center",value:t[f]["code3"]},{class:"text-center",value:t[f]["code4"]},{class:"text-center",value:t[f]["code5"]},{class:"text-right",value:t[f]["sum11"]},{class:"text-right",value:t[f]["sum12"]},{class:"text-right",value:t[f]["sum13"]}]);return{header:[{text:"N",value:"number"},{text:"Наименование",value:"name"},{text:"Ведомство",value:"code1"},{text:"Раздел",value:"code2"},{text:"Подраздел",value:"code3"},{text:"Целевая статья",value:"code4"},{text:"Вид расходов",value:"code5"},{text:"Действующий бюджет",value:"sum11"},{text:"Поправка",value:"sum12"},{text:"Итог",value:"sum13"}],table:u,table_name:"Ведомственная структура расходов"}}var M={props:{type:String},data:function(){return{}},computed:{report:function(){var e={};return"Функциональная структура расходов"===this.type?e=R(this.$store.getters.getFile,this.$store.getters.getfilterdepartments,this.$store.getters.getfilterdivisions,this.$store.getters.getfiltertargetitems):"Ведомственная структура расходов"===this.type&&(e=I(this.$store.getters.getFile)),e}}},N=M,J=(r("24f5"),r("1f4f")),U=Object(b["a"])(N,E,z,!1,null,"782fbe1f",null),q=U.exports;h()(U,{VSimpleTable:J["a"]});var G={data:function(){return{tab:null,items:["Функциональная структура расходов","Ведомственная структура расходов"]}},components:{Table:q},computed:{isLoaded:function(){return this.$store.getters.isLoaded}}},H=G,Q=(r("0a81b"),r("71a3")),W=r("c671"),X=r("fe57"),Y=r("aac8"),Z=Object(b["a"])(H,$,K,!1,null,null,null),ee=Z.exports;h()(Z,{VCard:g["a"],VCardText:x["b"],VCardTitle:x["c"],VContainer:w["a"],VTab:Q["a"],VTabItem:W["a"],VTabs:X["a"],VTabsItems:Y["a"]});var te=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.isLoaded?r("div",{staticClass:"container"},[r("h2",[e._v("Фильтр")]),r("div",{staticClass:"row"},[r("KBK_Filter",{attrs:{type:e.filter_type_departments}}),r("KBK_Filter",{attrs:{type:e.filter_type_divisions}}),r("KBK_Filter",{attrs:{type:e.filter_type_targetitems}})],1)]):e._e()},re=[],ne=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"kbk"},[r("v-autocomplete",{attrs:{items:e.items,outlined:"",clearable:"","deletable-chips":"",flat:"",dense:"",chips:"","small-chips":"",label:e.label,multiple:""},on:{change:e.filter},model:{value:e.values,callback:function(t){e.values=t},expression:"values"}})],1)},ae=[];function ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ie(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var se={props:{type:String},data:function(){return{values:[],value:null,label:"",items:[]}},created:function(){"departments"===this.type?(this.label="Ведомства",this.items=this.$store.getters.kbk_departments):"divisions"===this.type?(this.label="Подразделы",this.items=this.$store.getters.kbk_divisions):"targetitems"===this.type&&(this.label="Целевые статьи",this.items=this.$store.getters.kbk_target_items)},methods:oe({},Object(f["b"])(["set_filter_departments","set_filter_divisions","set_filter_targetitems"]),{filter:function(){"departments"===this.type?this.set_filter_departments(this.values):"divisions"===this.type?this.set_filter_divisions(this.values):"targetitems"===this.type&&this.set_filter_targetitems(this.values)}})},le=se,ce=(r("649e9"),r("c6a6")),ue=Object(b["a"])(le,ne,ae,!1,null,"1d330c72",null),fe=ue.exports;h()(ue,{VAutocomplete:ce["a"]});var de={data:function(){return{filter_type_departments:"departments",filter_type_divisions:"divisions",filter_type_targetitems:"targetitems"}},components:{KBK_Filter:fe},computed:{isLoaded:function(){return this.$store.getters.isLoaded}}},pe=de,ve=(r("cccb"),Object(b["a"])(pe,te,re,!1,null,"f93f039a",null)),me=ve.exports,be={name:"App",data:function(){return{}},components:{FileInput:T,ReportList:ee,KBK_Select:me},methods:{}},_e=be,he=r("7496"),ye=Object(b["a"])(_e,a,i,!1,null,null,null),ge=ye.exports;h()(ye,{VApp:he["a"]});var xe=r("f309");n["a"].use(xe["a"]);var Oe=new xe["a"]({}),we={actions:{},mutations:{loadFile:function(e,t){e.file=t}},state:{file:[]},getters:{getFile:function(e){return e.file},isLoaded:function(e){return!(0===Object.keys(e.file).length)},kbk_departments:function(e){return Object(L["a"])(new Set(e.file.map((function(e){return e.ved_code})))).sort()},kbk_divisions:function(e){return Object(L["a"])(new Set(e.file.map((function(e){return e.podr_code})))).sort()},kbk_target_items:function(e){return Object(L["a"])(new Set(e.file.map((function(e){return e.cs_code})))).sort()}}},je={actions:{FilterDepartments:function(e,t){return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:e.commit("set_filter_departments",t);case 1:case"end":return r.stop()}}))},FilterDivisions:function(e,t){return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:e.commit("set_filter_divisions",t);case 1:case"end":return r.stop()}}))},FilterTargetItems:function(e,t){return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:e.commit("set_filter_targetitems",t);case 1:case"end":return r.stop()}}))}},mutations:{set_filter_departments:function(e,t){e.filter_departmens=t},set_filter_divisions:function(e,t){e.filter_divisions=t},set_filter_targetitems:function(e,t){e.filter_targetitems=t}},state:{filter_departmens:[],filter_divisions:[],filter_targetitems:[]},getters:{getfilterdepartments:function(e){return e.filter_departmens},getfilterdivisions:function(e){return e.filter_divisions},getfiltertargetitems:function(e){return e.filter_targetitems}}};n["a"].use(f["a"]);var Se=new f["a"].Store({modules:{fileinput:we,filter:je}});n["a"].config.productionTip=!1,new n["a"]({vuetify:Oe,store:Se,render:function(e){return e(ge)}}).$mount("#app")},"649e9":function(e,t,r){"use strict";var n=r("0a81"),a=r.n(n);a.a},cccb:function(e,t,r){"use strict";var n=r("0baa"),a=r.n(n);a.a},df0c:function(e,t,r){}});
//# sourceMappingURL=app.cfbefcf3.js.map